<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>SLVEXR | –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ API –æ–Ω–ª–∞–π–Ω–∞</title>
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      background: #05030a;
      color: #f5f5f5;
      padding: 20px;
    }
    h1 {
      margin-bottom: 12px;
    }
    h2 {
      margin: 0 0 8px;
      font-size: 1rem;
    }
    .cards {
      display: grid;
      grid-template-columns: minmax(0, 1fr);
      gap: 16px;
      margin-top: 16px;
      margin-bottom: 24px;
    }
    .card {
      background: #0b0715;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.12);
      padding: 12px 14px;
      font-size: 0.9rem;
    }
    .ok {
      color: #9fffd3;
    }
    .bad {
      color: #ff8fa3;
    }
    .warn {
      color: #ffd166;
    }
    pre {
      background: #05030a;
      border-radius: 6px;
      padding: 8px;
      font-size: 0.8rem;
      max-height: 180px;
      overflow: auto;
      white-space: pre-wrap;
    }
    .label {
      font-weight: 600;
    }
    #summary {
      background: #12091f;
      border-radius: 10px;
      border: 1px solid rgba(123,44,255,0.6);
      padding: 14px 16px;
      line-height: 1.5;
    }
  </style>
</head>
<body>
  <h1>SLVEXR | –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ API —Å—Ç–∞—Ç—É—Å—É —Å–µ—Ä–≤–µ—Ä–∞</h1>
  <p>–°—Ç–æ—Ä—ñ–Ω–∫–∞ —Å–∞–º–∞ –∑—Ä–æ–±–∏—Ç—å 3 –∑–∞–ø–∏—Ç–∏ —ñ –ø–æ–∫–∞–∂–µ, —â–æ –ø—Ä–∞—Ü—é—î, –∞ —â–æ –Ω—ñ, —Ç–∞ –¥–∞—Å—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—é –≤ –∫—ñ–Ω—Ü—ñ.</p>

  <div class="cards">
    <div class="card" id="card-cshost-direct">
      <h2>1) CSHOST API ‚Äî –ø—Ä—è–º–∏–π –∑–∞–ø–∏—Ç –∑ –±—Ä–∞—É–∑–µ—Ä–∞</h2>
      <p><span class="label">–°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç—É:</span> <span id="st-cshost-direct">–û—á—ñ–∫—É—é‚Ä¶</span></p>
      <p><span class="label">HTTP:</span> <span id="http-cshost-direct">‚Äî</span></p>
      <p><span class="label">JSON:</span> <span id="json-cshost-direct">‚Äî</span></p>
      <p><span class="label">–§—Ä–∞–≥–º–µ–Ω—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:</span></p>
      <pre id="raw-cshost-direct"></pre>
    </div>

    <div class="card" id="card-cshost-proxy">
      <h2>2) CSHOST API ‚Äî —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å—ñ allorigins</h2>
      <p><span class="label">–°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç—É:</span> <span id="st-cshost-proxy">–û—á—ñ–∫—É—é‚Ä¶</span></p>
      <p><span class="label">HTTP:</span> <span id="http-cshost-proxy">‚Äî</span></p>
      <p><span class="label">JSON:</span> <span id="json-cshost-proxy">‚Äî</span></p>
      <p><span class="label">–§—Ä–∞–≥–º–µ–Ω—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:</span></p>
      <pre id="raw-cshost-proxy"></pre>
    </div>

    <div class="card" id="card-gamecms">
      <h2>3) GameCMS API ‚Äî —Å—Ç–∞—Ç—É—Å –ø–æ IP:PORT</h2>
      <p><span class="label">–°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç—É:</span> <span id="st-gamecms">–û—á—ñ–∫—É—é‚Ä¶</span></p>
      <p><span class="label">HTTP:</span> <span id="http-gamecms">‚Äî</span></p>
      <p><span class="label">JSON:</span> <span id="json-gamecms">‚Äî</span></p>
      <p><span class="label">–§—Ä–∞–≥–º–µ–Ω—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:</span></p>
      <pre id="raw-gamecms"></pre>
    </div>
  </div>

  <div id="summary">
    <strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:</strong> —á–µ–∫–∞—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —Ç–µ—Å—Ç—ñ–≤‚Ä¶
  </div>

  <script>
    // --- URLs –¥–ª—è —Ç–µ—Å—Ç–æ–≤ ---
    const CSHOST_DIRECT =
      "https://cshost.com.ua/api?action=getServersStatus&serverid=36689&token=d91c54931a7fe9106d804201f63c9847";

    const CSHOST_PROXY =
      "https://api.allorigins.win/raw?url=" + encodeURIComponent(CSHOST_DIRECT);

    // GameCMS: —Å—Ç–∞—Ç—É—Å Source-—Å–µ—Ä–≤–µ—Ä–∞ (CS 1.6) –ø–æ IP:PORT
    const GAMECMS =
      "https://api.gamecms.org/game/source/91.211.118.49:27019";

    const results = {
      cshostDirect: { okJson: false, vpnBlock: false, networkError: false },
      cshostProxy:  { okJson: false, vpnBlock: false, networkError: false },
      gamecms:      { okJson: false, networkError: false }
    };

    function shortText(text, max = 260) {
      if (!text) return "(–ø–æ—Ä–æ–∂–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥—å)";
      text = text.trim();
      return text.length > max ? text.slice(0, max) + " ‚Ä¶" : text;
    }

    function setEl(id, text, className) {
      const el = document.getElementById(id);
      if (!el) return;
      el.textContent = text;
      el.className = className || "";
    }

    async function runTest(name, url, cfg) {
      const stId   = "st-"   + name;
      const httpId = "http-" + name;
      const jsonId = "json-" + name;
      const rawId  = "raw-"  + name;

      setEl(stId, "–ó–∞–ø–∏—Ç –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ‚Ä¶", "warn");
      setEl(httpId, "‚Äî");
      setEl(jsonId, "‚Äî");
      setEl(rawId, "");

      try {
        const res = await fetch(url, { cache: "no-cache" });
        setEl(httpId, res.status + " " + res.statusText);

        const text = await res.text();
        setEl(rawId, shortText(text));

        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, —ç—Ç–æ VPN-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ CSHOST –∏–ª–∏ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π JSON
        if (cfg.kind === "cshost") {
          const low = text.toLowerCase();
          const isVpn =
            low.includes("vpn") ||
            low.includes("proxy") ||
            low.includes("–æ—Ç–∫–ª—é—á–∏—Ç–µ vpn") ||
            low.includes("ip:") && low.includes("–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∞—Å");

          if (isVpn) {
            setEl(stId, "CSHOST –±–ª–æ–∫—É—î –∑–∞–ø–∏—Ç (VPN/Proxy —Å—Ç–æ—Ä—ñ–Ω–∫–∞)", "bad");
            setEl(jsonId, "‚ùå –¶–µ –Ω–µ JSON, –∞ HTML –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é VPN", "bad");
            results[cfg.resultKey].vpnBlock = true;
            return;
          }
        }

        // –ü—Ä–æ–±—É–µ–º —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –∫–∞–∫ JSON
        try {
          const json = JSON.parse(text);

          if (cfg.kind === "cshost") {
            if (json && json.status === "OK") {
              setEl(stId, "JSON –æ—Ç—Ä–∏–º–∞–Ω–æ, CSHOST API –ø—Ä–∞—Ü—é—î –∑ –±—Ä–∞—É–∑–µ—Ä–∞", "ok");
              setEl(jsonId, "‚úÖ JSON OK (status=OK)", "ok");
              results[cfg.resultKey].okJson = true;
            } else {
              setEl(stId, "–í—ñ–¥–ø–æ–≤—ñ–¥—å —î, –∞–ª–µ —Ñ–æ—Ä–º–∞—Ç –Ω–µ —Ç–æ–π", "bad");
              setEl(jsonId, "‚ùå JSON —î, –∞–ª–µ –Ω–µ–º–∞—î –ø–æ–ª—è status='OK'", "bad");
            }
          } else if (cfg.kind === "gamecms") {
            if (json && (json.status === "online" || json.status === "offline")) {
              setEl(stId, "JSON –æ—Ç—Ä–∏–º–∞–Ω–æ, GameCMS API –ø—Ä–∞—Ü—é—î", "ok");
              setEl(jsonId, "‚úÖ JSON OK (status=" + json.status + ")", "ok");
              results[cfg.resultKey].okJson = true;
            } else {
              setEl(stId, "JSON —î, –∞–ª–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–µ–∑–≤–∏—á–Ω–∞", "warn");
              setEl(jsonId, "‚ö†Ô∏è JSON —Ä–æ–∑–ø–∞—Ä—Å–µ–Ω–æ, –∞–ª–µ –Ω–µ–º–∞—î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–æ–ª—è status", "warn");
            }
          }
        } catch (e) {
          setEl(jsonId, "‚ùå –ù–µ –≤–¥–∞–ª–æ—Å—è —Ä–æ–∑–ø–∞—Ä—Å–∏—Ç–∏ JSON: " + e.message, "bad");

          if (cfg.kind === "gamecms") {
            // –ï—Å–ª–∏ –≤–¥—Ä—É–≥ GameCMS —Ç–æ–∂–µ –≤–µ—Ä–Ω—É–ª HTML
            results[cfg.resultKey].okJson = false;
          }
        }
      } catch (err) {
        setEl(stId, "–ü–æ–º–∏–ª–∫–∞ –º–µ—Ä–µ–∂—ñ / CORS: " + err.message, "bad");
        setEl(rawId, "");
        results[cfg.resultKey].networkError = true;
      }
    }

    function buildRecommendation() {
      const summary = document.getElementById("summary");
      const cd = results.cshostDirect;
      const cp = results.cshostProxy;
      const gm = results.gamecms;

      let html = "<strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:</strong><br>";

      const cshostBlocked =
        (cd.vpnBlock || cp.vpnBlock) && !cd.okJson && !cp.okJson;

      if (cshostBlocked && gm.okJson) {
        html += "‚Ä¢ <span class='bad'>CSHOST API –±–ª–æ–∫—É—î –±—Ä–∞—É–∑–µ—Ä–Ω—ñ / –ø—Ä–æ–∫—Å—ñ-–∑–∞–ø–∏—Ç–∏ (–∞–Ω—Ç–∏-VPN / Proxy –∑–∞—Ö–∏—Å—Ç).</span><br>";
        html += "‚Ä¢ <span class='ok'>GameCMS API –ø–æ–≤–µ—Ä—Ç–∞—î –Ω–æ—Ä–º–∞–ª—å–Ω–∏–π JSON, –π–æ–≥–æ –º–æ–∂–Ω–∞ —Å–ø–æ–∫—ñ–π–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –Ω–∞–ø—Ä—è–º—É –Ω–∞ —Å–∞–π—Ç—ñ.</span><br><br>";
        html += "üëâ –î–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –æ–Ω–ª–∞–π–Ω–∞ –Ω–∞ —Å–∞–π—Ç—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π <code>https://api.gamecms.org/game/source/91.211.118.49:27019</code> —ñ –ø–∞—Ä—Å—å –ø–æ–ª—è <code>status</code>, <code>players.online</code>, <code>players.max</code>.";
      } else if (cshostBlocked && !gm.okJson) {
        html += "‚Ä¢ <span class='bad'>CSHOST API –±–ª–æ–∫—É—î –∑–∞–ø–∏—Ç–∏ –∑ —Å–∞–π—Ç—É (–∞–Ω—Ç–∏-VPN / Proxy, HTML –∑–∞–º—ñ—Å—Ç—å JSON).</span><br>";
        html += "‚Ä¢ GameCMS —Ç–µ–∂ –Ω–µ –ø–æ–≤–µ—Ä–Ω—É–≤ –∫–æ—Ä–µ–∫—Ç–Ω–∏–π JSON (–º–æ–∂–µ –±—É—Ç–∏ —Ç–∏–º—á–∞—Å–æ–≤–∞ –ø—Ä–æ–±–ª–µ–º–∞ –∞–±–æ CORS).<br><br>";
        html += "üëâ –í —Ç–∞–∫–æ–º—É –≤–∏–ø–∞–¥–∫—É –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –æ–Ω–ª–∞–π–Ω–∞ –ø–æ—Ç—Ä—ñ–±–µ–Ω —Å–≤—ñ–π backend (–Ω–µ–≤–µ–ª–∏–∫–∏–π —Å–∫—Ä–∏–ø—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ/VPS), —è–∫–∏–π –±—É–¥–µ –æ–ø–∏—Ç—É–≤–∞—Ç–∏ —ñ–≥—Ä–æ–≤–∏–π —Å–µ—Ä–≤–µ—Ä —ñ –≤—ñ–¥–¥–∞–≤–∞—Ç–∏ JSON —Å–∞–π—Ç—É.";
      } else if (!cshostBlocked && (cd.okJson || cp.okJson)) {
        html += "‚Ä¢ <span class='ok'>CSHOST API –ø–æ–≤–µ—Ä–Ω—É–≤ –∫–æ—Ä–µ–∫—Ç–Ω–∏–π JSON ‚Äî —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–æ –π–æ–≥–æ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏.</span><br>";
        if (gm.okJson) {
          html += "‚Ä¢ <span class='ok'>GameCMS API —Ç–∞–∫–æ–∂ –ø—Ä–∞—Ü—é—î. –ú–æ–∂–µ—à –≤–∏–±—Ä–∞—Ç–∏ –±—É–¥—å-—è–∫–∏–π, –∞–ª–µ GameCMS –ø—Ä–æ—Å—Ç—ñ—à–∏–π —ñ –±–µ–∑ —Ç–æ–∫–µ–Ω—ñ–≤.</span><br>";
        }
        html += "<br>üëâ –†–µ–∫–æ–º–µ–Ω–¥—É—é –≤—Å–µ –æ–¥–Ω–æ –∑–∞–≤'—è–∑–∞—Ç–∏—Å—è –Ω–∞ GameCMS –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É, –∞ CSHOST –ª–∏—à–∏—Ç–∏ –¥–ª—è –∞–¥–º—ñ–Ω–∫–∏ / –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤.";
      } else if (gm.okJson) {
        html += "‚Ä¢ CSHOST –Ω–µ –¥–∞—î –Ω–æ—Ä–º–∞–ª—å–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ, –∑–∞—Ç–µ <span class='ok'>GameCMS API –ø—Ä–∞—Ü—é—î —Å—Ç–∞–±—ñ–ª—å–Ω–æ.</span><br><br>";
        html += "üëâ –ù–∞ —Å–∞–π—Ç ‚Äî —Ç—ñ–ª—å–∫–∏ GameCMS.";
      } else {
        html += "<span class='bad'>–ñ–æ–¥–µ–Ω –∑ API –Ω–µ –¥–∞–≤ –Ω–æ—Ä–º–∞–ª—å–Ω–æ—ó JSON-–≤—ñ–¥–ø–æ–≤—ñ–¥—ñ. –¶–µ –∞–±–æ —Ç–∏–º—á–∞—Å–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏ –º–µ—Ä–µ–∂—ñ, –∞–±–æ –∂–æ—Ä—Å—Ç–∫—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è –ø–æ CORS/VPN.</span><br><br>";
        html += "üëâ –î–ª—è –Ω–∞–¥—ñ–π–Ω–æ–≥–æ –æ–Ω–ª–∞–π–Ω–∞ –ø–æ—Ç—Ä—ñ–±–µ–Ω —Å–≤—ñ–π backend (–º–∞–ª–µ–Ω—å–∫–∏–π —Å–µ—Ä–≤—ñ—Å, —è–∫–∏–π –æ–ø–∏—Ç—É—î —Å–µ—Ä–≤–µ—Ä —ñ –≤—ñ–¥–¥–∞—î JSON —Å–∞–π—Ç—É).";
      }

      summary.innerHTML = html;
    }

    async function runAllTests() {
      await runTest("cshost-direct", CSHOST_DIRECT, {
        kind: "cshost",
        resultKey: "cshostDirect"
      });

      await runTest("cshost-proxy", CSHOST_PROXY, {
        kind: "cshost",
        resultKey: "cshostProxy"
      });

      await runTest("gamecms", GAMECMS, {
        kind: "gamecms",
        resultKey: "gamecms"
      });

      buildRecommendation();
    }

    runAllTests();
  </script>
</body>
</html>
